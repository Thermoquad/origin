#!/bin/bash
# This hook is installed by running: task install-git-hooks

set -e

echo "Running pre-commit checks..."
echo ""

# Run docs CI (strict build + linkcheck + CDDL validation)
cd "$(git rev-parse --show-toplevel)"
if ! task docs:ci; then
    echo ""
    echo "❌ CI checks failed"
    exit 1
fi

echo ""
echo "✅ All pre-commit checks passed!"

exit 0
